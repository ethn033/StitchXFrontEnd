<div class="form-container">
  <p-card header="Create New Business" [style]="{ width: '500px' }">
    <form [formGroup]="businessForm" (ngSubmit)="onSubmit()" class="p-fluid">
      <div class="field">
        <label for="name">Business Name*</label>
        <input 
          id="name" 
          type="text" 
          pInputText 
          formControlName="name" 
          placeholder="Enter business name"
          [ngClass]="{ 'p-invalid': businessForm.get('name')?.invalid && businessForm.get('name')?.touched }">
        
        @if (businessForm.get('name')?.hasError('required') && businessForm.get('name')?.touched) {
          <small class="p-error">Name is required.</small>
        }
        @if (businessForm.get('name')?.hasError('maxlength')) {
          <small class="p-error">Name cannot exceed 100 characters.</small>
        }
      </div>

      <div class="field">
        <label for="address">Address*</label>
        <textarea 
          id="address" 
          pInputTextarea 
          formControlName="address" 
          rows="3"
          placeholder="Enter business address"
          [ngClass]="{ 'p-invalid': businessForm.get('address')?.invalid && businessForm.get('address')?.touched }">
        </textarea>
        
        @if (businessForm.get('address')?.hasError('required') && businessForm.get('address')?.touched) {
          <small class="p-error">Address is required.</small>
        }
        @if (businessForm.get('address')?.hasError('maxlength')) {
          <small class="p-error">Address cannot exceed 200 characters.</small>
        }
      </div>

      <div class="field">
        <label for="phone">Phone Number</label>
        <input 
          id="phone" 
          type="tel" 
          pInputText 
          formControlName="phone" 
          placeholder="Enter phone number"
          [ngClass]="{ 'p-invalid': businessForm.get('phone')?.invalid && businessForm.get('phone')?.touched }">
        
        @if (businessForm.get('phone')?.hasError('maxlength')) {
          <small class="p-error">Phone number cannot exceed 20 characters.</small>
        }
      </div>

      <div class="grid">
        <div class="col-6 field">
          <label for="latitude">Latitude</label>
          <p-inputNumber 
            id="latitude" 
            mode="decimal" 
            formControlName="latitude" 
            [minFractionDigits]="6"
            [maxFractionDigits]="6"
            placeholder="Enter latitude">
          </p-inputNumber>
        </div>
        
        <div class="col-6 field">
          <label for="longitude">Longitude</label>
          <p-inputNumber 
            id="longitude" 
            mode="decimal" 
            formControlName="longitude" 
            [minFractionDigits]="6"
            [maxFractionDigits]="6"
            placeholder="Enter longitude">
          </p-inputNumber>
        </div>
      </div>

      <div class="flex justify-content-end mt-4">
        <p-button 
          type="submit" 
          label="Create Business" 
          [disabled]="businessForm.invalid"
          icon="pi pi-check">
        </p-button>
      </div>
    </form>
  </p-card>
</div>