<header class="topbar bg-white py-2 px-3 d-flex align-items-center">
  <button pButton pRipple 
        [icon]="'pi ' + (sidebarCollapsed ? 'pi-align-justify' : 'pi-bars')"
        class="p-button-rounded p-button-text p-button-lg me-2"
        (click)="toggleSidebar()"></button>

  <!-- Logo - Shrink on mobile -->
  <div class="logo me-3 me-lg-3" style="min-width: 180px;">
    <h1 class="m-0 text-primary fw-bold fs-3 font-serif">
      <span class="d-none d-sm-inline">Tailor</span><span class="text-dark">Bhai</span>
    </h1>
  </div>

  <!-- Search Bar - Collapses on mobile -->
  <div class="search-bar flex-grow-1 mx-2 mx-lg-3" style="max-width: 600px;">
    <p-autoComplete [(ngModel)]="searchText" [suggestions]="filteredItems" 
                   (completeMethod)="filterItems($event)" placeholder="Search..."
                   [dropdown]="true" styleClass="w-100">
      <ng-template let-item pTemplate="item">
        <div class="d-flex align-items-center p-2">
          <i class="pi pi-search me-2"></i>
          <div>{{ item }}</div>
        </div>
      </ng-template>
    </p-autoComplete>
  </div>

  <!-- Icons - Adjust spacing for mobile -->
  <div class="topbar-icons d-flex align-items-center ms-auto" style="min-width: auto;">
    <!-- Notification Button with Badge -->
    <button pButton pRipple 
            icon="pi pi-bell" 
            class="p-button-rounded p-button-text p-button-lg mx-1 position-relative">
      <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
        3
      </span>
    </button>
    
    <!-- User Avatar with Dropdown -->
    <button pButton pRipple 
            class="p-button-rounded p-button-text p-button-lg mx-1 user-avatar"
            (click)="userMenu.toggle($event)">
      <i class="pi pi-user"></i>
    </button>
    
    <!-- Hidden Menus -->
    <p-menu #notifMenu [model]="notificationItems" [popup]="true"></p-menu>
    <p-menu #userMenu [model]="userMenuItems" [popup]="true"></p-menu>
  </div>

</header>